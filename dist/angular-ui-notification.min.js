!function(){function notify(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"center",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html"},this.setOptions=function(options){if(!angular.isObject(options))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,options)},this.$get=function($timeout,$http,$compile,$templateCache,$rootScope,$injector,$sce,$q,$window){var options=this.options,startTop=options.startTop,verticalSpacing=(options.startRight,options.verticalSpacing),delay=(options.horizontalSpacing,options.delay),messageElements=[],isResizeBound=!1,notify=function(args,t){var deferred=$q.defer();return"object"!=typeof args&&(args={message:args}),args.scope=args.scope?args.scope:$rootScope,args.template=args.templateUrl?args.templateUrl:options.templateUrl,args.delay=angular.isUndefined(args.delay)?delay:args.delay,args.type=t||options.type||"btn-primary",args.positionY=args.positionY?args.positionY:options.positionY,args.positionX=args.positionX?args.positionX:options.positionX,args.replaceMessage=args.replaceMessage?args.replaceMessage:options.replaceMessage,$http.get(args.template,{cache:$templateCache}).success(function(template){var scope=args.scope.$new();scope.message=$sce.trustAsHtml(args.message),scope.title=$sce.trustAsHtml(args.title),scope.t=args.type.substr(0,1),scope.delay=args.delay;var reposite=function(){for(var j=0,k=0,lastTop=startTop,lastPosition=[],i=messageElements.length-1;i>=0;i--){var element=messageElements[i];if(args.replaceMessage&&i<messageElements.length-1)element.addClass("killed");else{var elHeight=parseInt(element[0].offsetHeight),position=(parseInt(element[0].offsetWidth),lastPosition[element._positionY+element._positionX]);top+elHeight>window.innerHeight&&(position=startTop,k++,j=0);var top=lastTop=position?0===j?position:position+verticalSpacing:startTop;element.css(element._positionY,top+"px"),"center"==element._positionX?element.addClass("center"):"left"==element._positionX?element.addClass("left"):"right"==element._positionX&&element.addClass("right"),lastPosition[element._positionY+element._positionX]=top+elHeight,j++}}},templateElement=$compile(template)(scope);templateElement._positionY=args.positionY,templateElement._positionX=args.positionX,templateElement.addClass(args.type),templateElement.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(e){e=e.originalEvent||e,"opacity"===e.propertyName?(templateElement.remove(),messageElements.splice(messageElements.indexOf(templateElement),1),reposite()):"click"===e.type&&templateElement.addClass("fast-killed")}),angular.isNumber(args.delay)&&$timeout(function(){templateElement.addClass("killed")},args.delay),angular.element(document.getElementsByTagName("body")).append(templateElement);var offset=-(parseInt(templateElement[0].offsetHeight)+50);templateElement.css(templateElement._positionY,offset+"px"),messageElements.push(templateElement),scope._templateElement=templateElement,scope.kill=function(isHard){isHard?(messageElements.splice(messageElements.indexOf(scope._templateElement),1),scope._templateElement.remove(),$timeout(reposite)):scope._templateElement.addClass("killed")},$timeout(reposite),isResizeBound||(angular.element($window).bind("resize",function(e){$timeout(reposite)}),isResizeBound=!0),deferred.resolve(scope)}).error(function(data){throw new Error("Template ("+args.template+") could not be loaded. "+data)}),deferred.promise};return notify.primary=function(args){return this(args,"btn-primary")},notify.danger=function(args){return this(args,"btn-danger")},notify.success=function(args){return this(args,"btn-success")},notify.info=function(args){return this(args,"btn-info")},notify.warning=function(args){return this(args,"btn-warning")},notify.clearAll=function(){angular.forEach(messageElements,function(element){element.addClass("killed")})},notify}}function startup($templateCache){$templateCache.put("angular-ui-notification.html",'<div class="ui-notification"><h3 data-ng-show="title" data-ng-bind-html="title"></h3><div class="message" data-ng-bind-html="message"></div></div>')}angular.module("ui-notification",[]).provider("notify",notify),angular.module("ui-notification").run(startup),startup.$inject=["$templateCache"]}();